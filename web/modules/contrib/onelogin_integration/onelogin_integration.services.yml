services:
  onelogin_integration.authenticator_service:
    class: \OneLogin\Saml2\Auth
    factory: onelogin_integration.authenticator_factory:createFromSettings
  onelogin_integration.authenticator_factory:
    class: \Drupal\onelogin_integration\SAMLAuthenticatorFactory
    arguments: ['@config.factory']
  onelogin_integration.user_service:
    class: \Drupal\onelogin_integration\UserService
    arguments: ['@config.factory', '@entity_type.manager']
  onelogin_integration.authentication_service:
    class: \Drupal\onelogin_integration\AuthenticationService
    arguments: ['@config.factory', '@onelogin_integration.authenticator_factory', '@entity_type.manager', '@onelogin_integration.user_service']
